# 期中Project -- Simple Nethack

## Nethack 简介

首先了解一下仿照的游戏 [Nethack](https://www.nethack.org/index.html)

> 参考： [Wiki](https://zh.wikipedia.org/zh-hans/NetHack) 或 [英文Wiki](https://en.wikipedia.org/wiki/NetHack)

Nethack 是一个在命令行上的 Rougue-like 游戏，你扮演一个角色，在地下城中探索，目标是为自己的信奉的神取得 Yendor 的项链。

![Alt text](assets/nethack-screenshot.png)

界面如上图， `@` 是自己的位置，`.` 是房间中的地面， `#` 是则是其他的路 (还有很多的表示)，`-` 和 `|` 根据 位置/颜色 可能是墙，也可能是打开的门，等等

游戏不是即时的，而是 “我走一步，对方走一步” ，(在非小键盘模式下) 使用 `HJKL` 控制左下上右 (即 **vim** 的指针控制)， `YUBN` 则分别是 左上、右上、左下、右下。Windows 版本中，默认会自动拾取地上道具；而 Linux 版本中则使用按下 `,` 来拾取道具。

具体游戏内容可以自己再探索一下，但本文的重点不在于此……

## 项目简介

**使用编程语言:** C++
**要求:**
+ 要使用面向对象编程思想 —— 因为只学了 **封装**，也就是使用 **类** 来封装数据
+ 要使用运算符重载的知识

**实现内容:**
+ 不需要完全照搬原本 Nethack 的字符表示，下面字符表示供参考
	+ `@` 表示自己
	+ `X` 表示墙壁
	+ `.` 和 `#` 表示可以走的路
	+ `M` 表示怪物
	+ `E` 表示装备
	+ `I` 表示道具
+ 可以进行 **八方向** 的移动和休息 (休息即自己不移动但怪物会移动)
+ 可以进行 **八方向** 的攻击
+ 可以拾取地上的 装备/道具
+ 可以打开背包看到物品
+ 可以看到人物属性 —— 至少有 HP
+ 怪物会自动接近玩家并攻击 —— 不需要太复杂的寻路算法 (简单地可使用周围八个点与玩家位置的曼哈顿(棋盘)距离)

## 评分

本项目的意图主要还是在于 **对C++语言和面向对象编程的练习**，而不是对游戏的设计，但有兴趣的同学仍然可以增加更多游戏内容。

+ 功能完整 - 60% (包括 可以运行、运行不出错、实现了上述内容)
+ 代码架构 - 30% (包括 是否合理地封装了各种对象、是否有清晰的结构)
+ 代码风格 - 10% (包括 是否有合理的缩进、是否有规则的变量命名)
+ 拓展 - 10% (包括 是否在要求实现内容基础上有更多要素、是否有新奇的思路)

拓展部分请 **一定** 在报告中提出来

## 提示

Nethack 的 windows 命令行版本在 cmd 运行不太正常，可以尝试使用 [cmder](http://cmder.net/)，或者使用其图形版 (NetHackW.exe) 体验

关于如何 “更新画面”，可以简单地使用 `system("clear")` (Linux) 或 `system("cls")` (Windows) 清除屏幕然后完全重绘，也可以使用 [`ncurses`](https://www.gnu.org/software/ncurses/ncurses.html) (Linux) 或 [Windows Console API](https://docs.microsoft.com/en-us/windows/console/console-functions) (Windows) 来移动终端/命令行中的指针，达到更高效的 “更新画面”。

## 实验报告内容

+ 说明代码运行方法
	+ 由于本次项目比较开放，限制语言为 C++ 而没有限制库，因此需要指明
	+ 依赖的第三方库 (如 `ncurses`)
	+ 如何编译 (可以直接给出 [`Makefile`](https://blog.vmatrix.org.cn/makefilede-shi-yong/))
	+ 如何运行
+ 说明操作方法
+ 说明设计思路
	+ 如何封装对象
	+ 哪里使用了运算符重载
+ 拓展点
+ 思考是否仍有改进空间